<!-- session_service/templates/team_join.html -->
{{define "content"}}
<div class="page-header">
    <h1>üë• Join Game</h1>
    <p>Enter your session code and team name to join the trivia game</p>
</div>

<div class="team-join" id="join-form">
    <div class="card">
        <h2>Join Session</h2>
        <form id="join-session-form" class="form">
            <div class="form-group">
                <label for="session-code">Session Code</label>
                <input type="text" id="session-code" name="session_code" placeholder="ABC123" 
                       maxlength="6" pattern="[A-Z0-9]{6}" required autocomplete="off">
                <small>Enter the 6-character code provided by your host</small>
            </div>
            
            <div class="form-group">
                <label for="team-name">Team Name</label>
                <input type="text" id="team-name" name="team_name" placeholder="Team Awesome" 
                       maxlength="30" required>
                <small>Choose a unique name for your team</small>
            </div>
            
            <button type="submit" class="btn btn-primary btn-large">üöÄ Join Game</button>
        </form>
    </div>
</div>

<div class="team-session hidden" id="team-dashboard">
    <div class="session-header">
        <h2 id="game-title">Connected to Game</h2>
        <div class="team-info">
            <span class="label">Team:</span>
            <span class="team-name" id="team-name-display">------</span>
        </div>
        <div class="session-info">
            <span class="label">Session:</span>
            <span class="session-code" id="session-code-display">------</span>
        </div>
    </div>
    
    <div class="game-status">
        <div class="status-card">
            <div class="connection-status">
                <div class="connection-indicator" id="connection-status">
                    <span class="indicator-dot"></span>
                    <span id="connection-text">Disconnected</span>
                </div>
            </div>
            <div class="status-info">
                <span class="status-label">Status:</span>
                <span id="game-status" class="status-value">Waiting</span>
            </div>
            <div class="status-info">
                <span class="status-label">Question:</span>
                <span id="current-question" class="status-value">0/0</span>
            </div>
        </div>
    </div>
    
    <div class="waiting-room" id="waiting-room">
        <div class="waiting-content">
            <div class="waiting-icon">‚è≥</div>
            <h3>Waiting for game to start...</h3>
            <p>The host will begin the game when all teams are ready.</p>
            
            <div class="teams-waiting">
                <h4>Teams in this game:</h4>
                <div id="teams-list" class="teams-list-compact">
                    <div class="loading">Loading teams...</div>
                </div>
            </div>
        </div>
    </div>
    
    <div class="question-display hidden" id="question-display">
        <div class="question-header">
            <span class="question-meta">Question <span id="question-number">1</span> of <span id="total-questions">10</span></span>
            <span class="question-points">Points: <span id="question-points">1</span></span>
        </div>
        
        <div class="question-card">
            <div class="question-text" id="question-text"></div>
            <div class="question-image" id="question-image"></div>
        </div>
        
        <div class="answer-form" id="answer-form">
            <h4>Select your answer:</h4>
            <div class="answer-options" id="answer-options">
                <!-- Answer options will be populated by JavaScript -->
            </div>
            <button id="submit-answer-btn" class="btn btn-primary btn-large" disabled>üìù Submit Answer</button>
        </div>
        
        <div class="answer-submitted hidden" id="answer-submitted">
            <div class="submitted-message">
                <span class="check-icon">‚úÖ</span>
                <h4>Answer Submitted!</h4>
                <p>Waiting for other teams to answer...</p>
                <div class="submitted-answer">
                    Your answer: <strong id="submitted-answer-text"></strong>
                </div>
            </div>
        </div>
    </div>
    
    <div class="scores-display hidden" id="scores-display">
        <h3>üèÜ Current Scores</h3>
        <div id="scores-list" class="scores-list">
            <!-- Scores will be populated by JavaScript -->
        </div>
    </div>
</div>
{{end}}

{{define "scripts"}}
<script src="/static/team.js"></script>
{{end}}